MQKEY=Key='LZGGEeDJpGuR3xMRu4tAA04MSyIhAMJP';
MQCONFIGNUMBER=1;
if(window.MQPROTOCOL===undefined){ MQPROTOCOL=window.location.protocol==='https:'?'https://':'http://'; }
MQPLATFORMSERVER=MQPROTOCOL+"www.mapquestapi.com";
MQSTATICSERVER="https://www.mapquestapi.com/staticmap/";
MQTRAFFSERVER=TRAFFSERVER="https://www.mapquestapi.com/traffic/";
MQROUTEURL="https://www.mapquestapi.com/directions/";
MQGEOCODEURL="https://www.mapquestapi.com/geocoding/";
MQNOMINATIMURL=MQPROTOCOL+"open.mapquestapi.com/";
MQSEARCHURL="https://www.mapquestapi.com/search/";
MQLONGURL=MQPLATFORMSERVER;
MQSMSURL=MQPLATFORMSERVER;
MQTOOLKIT_VERSION="v2.2".replace(/^v/, '');
MQCDN=MQIMAGEPATH="https://api-s.mqcdn.com/"+"sdk/leaflet/v2.2/";
MQCDNCOMMON="https://api-s.mqcdn.com/";
MQICONSERVER=ICONSERVER=MQPROTOCOL+'icons.mqcdn.com';
MQICONCDN=MQPROTOCOL+'api.mqcdn.com';
LOGSERVER=MQTILELOGGER="https://www.mapquestapi.com";
MQLOGURL="https://www.mapquestapi.com/logger/v1";
COVSERVER=MQCOPYRIGHT="https://tileproxy.cloud.mapquest.com";
MQCOPYRIGHT_PATH="/attribution";
MBMAP="https://api.mapbox.com/styles/v1/mapquest/ck62b47z90j2j1iqglrzyrhtg/tiles/256/{$z}/{$x}/{$y}?access_token=pk.eyJ1IjoibWFwcXVlc3QiLCJhIjoiY2Q2N2RlMmNhY2NiZTRkMzlmZjJmZDk0NWU0ZGJlNTMifQ.mPRiEubbajc6a5y9ISgydg";
MBHYB="https://api.mapbox.com/styles/v1/mapquest/ck62b7u670gx81irs634q9hzs/tiles/256/{$z}/{$x}/{$y}?access_token=pk.eyJ1IjoibWFwcXVlc3QiLCJhIjoiY2Q2N2RlMmNhY2NiZTRkMzlmZjJmZDk0NWU0ZGJlNTMifQ.mPRiEubbajc6a5y9ISgydg";
MBSAT="https://api.mapbox.com/v4/mapbox.satellite/{$z}/{$x}/{$y}.{$ext}?access_token=pk.eyJ1IjoibWFwcXVlc3QiLCJhIjoiY2Q2N2RlMmNhY2NiZTRkMzlmZjJmZDk0NWU0ZGJlNTMifQ.mPRiEubbajc6a5y9ISgydg";
MBLIGHT="https://api.mapbox.com/styles/v1/mapquest/ckkeddq7i15pm17s3pep989dh/tiles/256/{$z}/{$x}/{$y}?access_token=pk.eyJ1IjoibWFwcXVlc3QiLCJhIjoiY2Q2N2RlMmNhY2NiZTRkMzlmZjJmZDk0NWU0ZGJlNTMifQ.mPRiEubbajc6a5y9ISgydg";
MBDARK="https://api.mapbox.com/styles/v1/mapquest/ckkej9ldx1b6w17p65rdjywia/tiles/256/{$z}/{$x}/{$y}?access_token=pk.eyJ1IjoibWFwcXVlc3QiLCJhIjoiY2Q2N2RlMmNhY2NiZTRkMzlmZjJmZDk0NWU0ZGJlNTMifQ.mPRiEubbajc6a5y9ISgydg";
MBMAP_OPEN="https://api.mapbox.com/styles/v1/mapquest/ck62awhdx0g1g1iqqv9u80q6i/tiles/256/{$z}/{$x}/{$y}?access_token=pk.eyJ1IjoibWFwcXVlc3QiLCJhIjoiY2Q2N2RlMmNhY2NiZTRkMzlmZjJmZDk0NWU0ZGJlNTMifQ.mPRiEubbajc6a5y9ISgydg";
MBHYB_OPEN="https://api.mapbox.com/styles/v1/mapquest/ck62b31dq0ivo1jnvdc2kk3qa/tiles/256/{$z}/{$x}/{$y}?access_token=pk.eyJ1IjoibWFwcXVlc3QiLCJhIjoiY2Q2N2RlMmNhY2NiZTRkMzlmZjJmZDk0NWU0ZGJlNTMifQ.mPRiEubbajc6a5y9ISgydg";
MBLIGHT_OPEN="https://api.mapbox.com/styles/v1/mapquest/ckkg14kqu09ta17pfip0rqjdf/tiles/256/{$z}/{$x}/{$y}?access_token=pk.eyJ1IjoibWFwcXVlc3QiLCJhIjoiY2Q2N2RlMmNhY2NiZTRkMzlmZjJmZDk0NWU0ZGJlNTMifQ.mPRiEubbajc6a5y9ISgydg";
MBDARK_OPEN="https://api.mapbox.com/styles/v1/mapquest/ckkg136rm09ob17lpoae7m0zg/tiles/256/{$z}/{$x}/{$y}?access_token=pk.eyJ1IjoibWFwcXVlc3QiLCJhIjoiY2Q2N2RlMmNhY2NiZTRkMzlmZjJmZDk0NWU0ZGJlNTMifQ.mPRiEubbajc6a5y9ISgydg";
MBEXT="png";
MBTILEHI="4";
MBTILELO="1";
MBCOPYRIGHT="https://tileproxy.cloud.mapquest.com";
MBCOPYRIGHT_PATH="/attribution";
function $pv() {};  function $a() {};

/**
 * MapQuest tiled map toolkit.
 * Copyright 2014, MapQuest Inc.  All Rights Reserved.
 * Copying, reverse engineering, or modification is strictly prohibited.
 * v2.2
 */
MQ.Traffic=MQ.Traffic||{};MQ.traffic=MQ.traffic||{};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(G,F){for(var H=(F||0),E=this.length;H<E;H++){if(this[H]===G){return H}}return -1}}MQ.trafficLayer=function(E){E=E||{};var F=L.layerGroup(),G=E.layers||["incidents","flow","markets"];if(!E.key&&MQKEY){E.key=MQKEY}if(G.indexOf("incidents")>-1&&G.indexOf("markets")==-1){G.push("markets")}for(var H=0;H<G.length;H++){if(typeof MQ.traffic[G[H]]=="function"){F.addLayer(MQ.traffic[G[H]](E))}}return F};MQ.Traffic.Incidents=L.LayerGroup.extend({_lastUpdate:null,options:{key:null,minZoom:10,maxZoom:20,types:[1,4]},initialize:function(B){MQ.mapConfig.setAPIKey(this.options);L.setOptions(this,B);L.LayerGroup.prototype.initialize.call(this,B)},onAdd:function(D){var C=this;MQ.mapConfig.ready(function(){C._setupIcons()});L.LayerGroup.prototype.onAdd.call(this,D);this.update();D.on("zoomend",this.update,this);D.on("moveend",this._onMoveEnd,this)},onRemove:function(B){B.off("zoomend",this.update,this);B.off("moveend",this._onMoveEnd,this);L.LayerGroup.prototype.onRemove.call(this,B)},update:function(){if(this._map){this._lastUpdate=new Date();this.clearLayers();if(this._map.getZoom()>=this.options.minZoom&&this._map.getZoom()<=this.options.maxZoom){var Q=this._map.getCenter();var M=this._map.getSize().x+1024;var I=this._map.getSize().y+1024;var N=this._map.containerPointToLatLng(new L.Point(-512,-512));var P=this._map.containerPointToLatLng(new L.Point(M-512,I-512));var O="incidents?outFormat=json&key="+this.options.key+"&boundingBox="+N.lat+","+N.lng+","+P.lat+","+P.lng+"&rand="+Math.random();var J=new L.LatLngBounds([N,P]);this._lastBounds=J;var K=this;MQ.mapConfig.ready(function(){MQ.util.doJSONP(MQ.mapConfig.getConfig("trafficAPI")+O,{callback:"callback"},L.Util.bind(K._handleIncidentsData,K))})}}},_handleIncidentsData:function(J){var H=J.incidents;if(!H){return }for(var I=0;I<H.length;I++){var G=H[I];if(MQ.util.indexOf(this.options.types,G.type)==-1){continue}var F=L.marker(new L.LatLng(G.lat,G.lng),{icon:this.getIcon(G)}).addTo(this);F.bindPopup(this.describeIncident(G))}},getIcon:function(D){var C=null;if(D.type==1){C=this._constructionIcons}else{if(D.type==2){C=this._eventIcons}else{C=this._incidentIcons}}if(D.severity<2){return C[0]}else{if(D.severity<4){return C[1]}}return C[2]},describeIncident:function(C){var D="Construction";if(C.type==4){D="Incident"}else{if(C.type==2){D="Event"}}return'<div style="font-weight: bold;">'+D+" Expect Some Delays</div><div>"+C.fullDesc+"<br/><br/><b>Start:</b> "+this._formatTime(C.startTime)+"<br/><b>End:</b> Expected "+this._formatTime(C.endTime)+"<br/>(All Times Estimated)</div>"},_formatTime:function(X,V){var Z,e=new Date(),g=X.split("T"),h=g[0].split("-"),d=g[1].split(":"),i=new Date(h[0],parseInt(h[1],10)-1,h[2],d[0],d[1],d[2]),W=i.getHours(),a=W>12?(W-12):(W===0?12:W),j=i.getMinutes()!==0?i.getMinutes():"00",k=W>11?"PM":"AM",c=function(A,B){return(new Date(A.getFullYear(),A.getMonth(),A.getDate()+B)).toLocaleDateString()},T=c(i,0),f=c(e,0),b=c(e,-1),Y=c(e,+1);if(T==f){Z="Today"}else{if(T==Y){Z="Tomorrow"}else{if(T==b){Z="Yesterday"}}}if(j<10&&j!=="00"){j="0"+j}var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return Z?Z+" "+a+":"+j+" "+k:U[i.getMonth()]+" "+i.getDate()+", "+i.getFullYear()+" "+a+":"+j+" "+k},_onMoveEnd:function(){if(this._lastBounds&&this._map){if(!this._lastBounds.contains(this._map.getBounds())){this.update()}}},_setupIcons:function(){this._incidentIcons=this._createIconArray("incid");this._eventIcons=this._createIconArray("event");this._constructionIcons=this._createIconArray("const")},_createIconArray:function(B){return[L.icon({iconUrl:MQ.mapConfig.getConfig("trafficImagePath")+B+"_min.png",iconSize:[29,29],iconAnchor:[15,29],popupAnchor:[0,-29]}),L.icon({iconUrl:MQ.mapConfig.getConfig("trafficImagePath")+B+"_mod.png",iconSize:[29,29],iconAnchor:[15,29],popupAnchor:[0,-29]}),L.icon({iconUrl:MQ.mapConfig.getConfig("trafficImagePath")+B+"_sev.png",iconSize:[29,29],iconAnchor:[15,29],popupAnchor:[0,-29]})]}});MQ.traffic.incidents=function(B){if(B==null){B={}}if(!B.key&&MQKEY){B.key=MQKEY}return new MQ.Traffic.Incidents(B)};MQ.Traffic.Markets=L.LayerGroup.extend({statics:{MARKETS:null},options:{key:null,minZoom:2,maxZoom:9},_markersOn:false,MARKETS:null,initialize:function(B){MQ.mapConfig.setAPIKey(this.options);L.setOptions(this,B);L.LayerGroup.prototype.initialize.call(this,B)},onAdd:function(B){L.LayerGroup.prototype.onAdd.call(this,B);this._loadMarkets();B.on("zoomend",this.update,this)},onRemove:function(B){B.off("zoomend",this.update,this);L.LayerGroup.prototype.onRemove.call(this,B)},update:function(){if(this._map){if(this._map.getZoom()>=this.options.minZoom&&this._map.getZoom()<=this.options.maxZoom){if(!this._markersOn){var F=this.MARKETS;var D=0;if(F&&F.length){D=F.length}for(var E=0;E<D;E++){this.addLayer(F[E])}this._markersOn=true}}else{if(this._markersOn){this.clearLayers();this._markersOn=false}}}},_loadMarkets:function(){if(!this.MARKETS){var C="markets?key="+this.options.key+"&rand="+Math.random();var D=this;MQ.mapConfig.ready(function(){MQ.util.doJSONP(MQ.mapConfig.getConfig("trafficAPI")+C,{callback:"callback"},L.Util.bind(D._handleMarketsData,D))})}else{this.update()}},_handleMarketsData:function(I){var J;if(I&&I.markets){J=I.markets}if(!J){return }this.MARKETS=new Array();for(var H=0;H<J.length;H++){var G=J[H];var F=L.marker(new L.LatLng(G.lat,G.lng),{icon:this.getIcon(G)});F.bindPopup(this.describeMarket(G));this.MARKETS.push(F)}this.update()},getIcon:function(B){return L.icon({iconUrl:MQ.mapConfig.getConfig("trafficImagePath")+"stoplight.png",iconSize:[16,30],iconAnchor:[8,15],popupAnchor:[0,-15]})},describeMarket:function(D){var C=D.city+", "+D.state;if(C.length>33){C=C.substr(0,33)+"..."}return'<div style="font-weight: bold;">'+C+"</div><div>zoom in to view traffic conditions</div>"}});MQ.traffic.markets=function(B){if(B==null){B={}}if(!B.key&&MQKEY){B.key=MQKEY}return new MQ.Traffic.Markets(B)};MQ.Traffic.Flow=L.LayerGroup.extend({_lastUpdate:null,options:{key:null,opacity:0.6,minZoom:10,maxZoom:20},initialize:function(B){MQ.mapConfig.setAPIKey(this.options);L.setOptions(this,B);L.LayerGroup.prototype.initialize.call(this,B)},onAdd:function(B){L.LayerGroup.prototype.onAdd.call(this,B);this.update();B.on("zoomend",this.update,this);B.on("moveend",this._onMoveEnd,this)},onRemove:function(B){B.off("zoomend",this.update,this);B.off("moveend",this._onMoveEnd,this);L.LayerGroup.prototype.onRemove.call(this,B)},update:function(){if(this._map){this._lastUpdate=new Date();this.clearLayers();if(this._map.getZoom()>=this.options.minZoom&&this._map.getZoom()<=this.options.maxZoom){var P=this._map.getCenter();var N=this._map.getSize().x+1024;var Q=this._map.getSize().y+1024;var O="flow?projection=merc&mapLat="+P.lat+"&mapLng="+P.lng+"&mapWidth="+N+"&mapHeight="+Q+"&mapScale="+MQ.mapConfig.getScale(this._map.getZoom())+"&key="+this.options.key+"&rand="+(Math.random()*10)+"&imageType=png&opacity="+Math.floor(this.options.opacity*255);var I=this._map.containerPointToLatLng(new L.Point(-512,this._map.getSize().y+512));var J=this._map.containerPointToLatLng(new L.Point(this._map.getSize().x+512,-512));var K=new L.LatLngBounds(I,J);this._lastBounds=K;var M=this;MQ.mapConfig.ready(function(){var A=L.imageOverlay(MQ.mapConfig.getConfig("trafficAPI")+O,K,{opacity:M.options.opacity});A.on("load",function(){this._image.ondragstart=function(){return false}});M.addLayer(A);A.bringToBack()})}}},_onMoveEnd:function(){if(this._lastBounds&&this._map){if(!this._lastBounds.contains(this._map.getBounds())){this.update()}}}});MQ.traffic.flow=function(B){if(B==null){B={}}if(!B.key&&MQKEY){B.key=MQKEY}return new MQ.Traffic.Flow(B)};